# TableIR manually crafted to test demand projections
# This tests if ~FI_T with attribute=DEMAND works for COM_PROJ

files:
- path: SysSettings/SysSettings.xlsx
  sheets:
  - name: SysSets
    tables:
    - tag: ~BOOKREGIONS_MAP
      rows:
      - bookname: REG1
        region: REG1
    - tag: ~STARTYEAR
      rows:
      - value: 2020
    - tag: ~ACTIVEPDEF
      rows:
      - value: P
    - tag: ~TIMEPERIODS
      rows:
      - p: 10
      - p: 10
      - p: 10
      - p: 10
    - tag: ~CURRENCIES
      rows:
      - currency: USD
  - name: Commodities
    tables:
    - tag: ~FI_COMM
      rows:
      - region: REG1
        csets: NRG
        commname: ELC
        unit: PJ
      - region: REG1
        csets: DEM
        commname: RSD
        unit: PJ

- path: SubRES_TMPL/SubRES_Model.xlsx
  sheets:
  - name: Processes
    tables:
    - tag: ~FI_PROCESS
      rows:
      - region: REG1
        techname: DEM_RSD
        techdesc: Residential demand device
        sets: DMD
        tact: PJ
        tcap: GW
      - region: REG1
        techname: PP_GENERIC
        techdesc: Generic power supply
        sets: ELE
        tact: PJ
        tcap: GW
    - tag: ~FI_T
      rows:
      # Process topology
      - region: REG1
        techname: DEM_RSD
        commodity-in: ELC
      - region: REG1
        techname: DEM_RSD
        commodity-out: RSD
      - region: REG1
        techname: DEM_RSD
        eff: 1.0
      - region: REG1
        techname: PP_GENERIC
        commodity-out: ELC
      
      # DEMAND PROJECTIONS - attribute=DEMAND maps to COM_PROJ
      # This specifies the exogenous demand levels for the RSD commodity
      - region: REG1
        attribute: DEMAND
        commodity: RSD
        year: 2020
        value: 100.0
      - region: REG1
        attribute: DEMAND
        commodity: RSD
        year: 2030
        value: 120.0
      - region: REG1
        attribute: DEMAND
        commodity: RSD
        year: 2040
        value: 140.0
      - region: REG1
        attribute: DEMAND
        commodity: RSD
        year: 2050
        value: 160.0
