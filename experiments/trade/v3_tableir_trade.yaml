# Experiment: Trade via TableIR with ~TRADELINKS_DINS
# Proper multi-region structure with VT_REGION files

files:
  # System settings
  - path: SysSettings.xlsx
    sheets:
      - name: SySettings
        tables:
          - tag: "~BookRegions_Map"
            rows:
              - bookname: REG1
                region: REG1
              - bookname: REG2
                region: REG2
          - tag: "~StartYear"
            rows:
              - value: "2020"
          - tag: "~ActivePDef"
            rows:
              - value: P1
          - tag: "~TimePeriods"
            rows:
              - value: P1
              - value: "1"
              - value: "2"
          - tag: "~Currencies"
            rows:
              - currency: USD

  # REG1 base templates (needed for internal region)
  - path: VT_REG1_PRI_v01.xlsx
    sheets:
      - name: PRI_REG1
        tables:
          - tag: "~FI_COMM"
            rows:
              - region: REG1
                commname: NG
                csets: NRG
                description: Natural Gas
              - region: REG1
                commname: ELC
                csets: NRG
                description: Electricity
          
          - tag: "~FI_PROCESS"
            rows:
              - region: REG1
                techname: PP_CCGT
                sets: ELE
                tact: PJ
                tcap: GW
          
          - tag: "~FI_T"
            rows:
              - region: REG1
                techname: PP_CCGT
                comm-in: NG
                comm-out: ELC
                eff: 0.55

  # REG2 base templates (needed for internal region)
  - path: VT_REG2_PRI_v01.xlsx
    sheets:
      - name: PRI_REG2
        tables:
          - tag: "~FI_COMM"
            rows:
              - region: REG2
                commname: NG
                csets: NRG
                description: Natural Gas
              - region: REG2
                commname: ELC
                csets: NRG
                description: Electricity
          
          - tag: "~FI_PROCESS"
            rows:
              - region: REG2
                techname: PP_CCGT
                sets: ELE
                tact: PJ
                tcap: GW
          
          - tag: "~FI_T"
            rows:
              - region: REG2
                techname: PP_CCGT
                comm-in: NG
                comm-out: ELC
                eff: 0.55

  # Trade links file - the key VEDA pattern
  - path: SuppXLS/Trades/ScenTrade__Trade_Links.xlsx
    sheets:
      - name: DINS_TradeLinks
        tables:
          # The normalized TRADELINKS format
          - tag: "~TRADELINKS_DINS"
            rows:
              # Bidirectional trade in ELC between REG1 and REG2
              - reg1: REG1
                reg2: REG2
                comm: ELC
                comm1: ELC
                comm2: ELC
                process: T_B_REG1_REG2_ELC
                tradelink: b

# NOTES:
# 1. VT_REG*_*.xlsx files signal internal regions to xl2times
# 2. Trade process naming convention: T_{U/B}_{REG1}_{REG2}_{COMM}
# 3. xl2times auto-generates IRE process from ~TRADELINKS_DINS
# 4. The trade process belongs to IRE set automatically
