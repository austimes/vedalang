# Experiment: Trade via TableIR with ~TRADELINKS_DINS
# This bypasses VedaLang and tests xl2times directly

files:
  # System settings
  - path: SysSettings.xlsx
    sheets:
      - name: SySettings
        tables:
          - tag: "~BookRegions_Map"
            rows:
              - bookname: Region1
                region: REG1
              - bookname: Region2
                region: REG2
          - tag: "~StartYear"
            rows:
              - value: "2020"
          - tag: "~ActivePDef"
            rows:
              - pdef: REG1
              - pdef: REG2
          - tag: "~Currencies"
            rows:
              - currency: USD

  # Base technology definitions
  - path: Base/base.xlsx
    sheets:
      - name: Base
        tables:
          - tag: "~FI_COMM"
            rows:
              - region: REG1
                commname: NG
                csets: NRG
                description: Natural Gas
              - region: REG1
                commname: ELC
                csets: NRG
                description: Electricity
              - region: REG2
                commname: NG
                csets: NRG
                description: Natural Gas
              - region: REG2
                commname: ELC
                csets: NRG
                description: Electricity
          
          # CCGT in REG1
          - tag: "~FI_PROCESS"
            rows:
              - region: REG1
                techname: PP_CCGT
                sets: ELE
                tact: PJ
                tcap: GW
          
          - tag: "~FI_T"
            rows:
              - region: REG1
                techname: PP_CCGT
                comm-in: NG
                comm-out: ELC
                eff: 0.55

  # Trade links file - this is the key VEDA pattern!
  - path: SuppXLS/Trades/ScenTrade__Trade_Links.xlsx
    sheets:
      - name: DINS_TradeLinks
        tables:
          # The normalized TRADELINKS format
          - tag: "~TRADELINKS_DINS"
            rows:
              # Bidirectional trade in ELC between REG1 and REG2
              - reg1: REG1
                reg2: REG2
                comm: ELC
                comm1: ELC
                comm2: ELC
                process: T_B_REG1_REG2_ELC
                tradelink: b

# NOTES:
# 1. Trade process naming convention: T_{U/B}_{REG1}_{REG2}_{COMM}
#    - U = unidirectional, B = bidirectional
# 2. xl2times auto-generates IRE process from ~TRADELINKS_DINS
# 3. The trade process belongs to IRE set automatically
